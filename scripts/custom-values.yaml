# ingress:
#   enabled: true
#   annotations:
#     kubernetes.io/ingress.class: nginx

balancer:
  cookie:
    # SET THIS TO TRUE IF IN PRODUCTION
    # Sets secure Flag in cookie
    # -- Sets the secure attribute on cookie so that it only be send over https
    secure: false
    # -- Changes the cookies name used to identify teams. Note will automatically be prefixed with "__Secure-" when balancer.cookie.secure is set to `true`
    name: balancer
    # -- Set this to a fixed random alpa-numeric string (recommended length 24 chars). If not set this get randomly generated with every helm upgrade, each rotation invalidates all active cookies / sessions requirering users to login again.
    cookieParserSecret: N2TUDtV5FyPM3DAAfy5iCEaD
  repository: ghcr.io/incyclesoftware/mb-juice-balancer
  tag: latest
  metrics:
    enabled: true
    dashboards:
      enabled: true
    serviceMonitor:
      enabled: true

juiceShop:
  # -- Specifies how many JuiceShop instances MultiJuicer should start at max. Set to -1 to remove the max Juice Shop instance cap
  maxInstances: 20

  # -- Juice Shop Image to use
  image: bkimminich/juice-shop
  tag: v13.3.0

  # -- Change the key when hosting a CTF event. This key gets used to generate the challenge flags. See: https://pwning.owasp-juice.shop/part1/ctf.html#overriding-the-ctfkey
  ctfKey: 'T@XH%@BH*mcUu5kXo*HgcFYFu%E92K'
  
  resources:
    requests:
      cpu: 150m
      memory: 200Mi
    limits:
      cpu: 200m
      memory: 225Mi

  # -- Specify a custom Juice Shop config.yaml. See the JuiceShop Config Docs for more detail: https://pwning.owasp-juice.shop/part1/customization.html#yaml-configuration-file
  # @default -- See values.yaml for full details
  config: |
    application:
      domain: patsa.org
      name: PA TSA Cybersecurity Shop
      logo: https://raw.githubusercontent.com/incyclesoftware/multi-juicer/features/tsa-config/images/tsa.svg
      favicon: https://raw.githubusercontent.com/incyclesoftware/multi-juicer/features/tsa-config/images/tsa.svg
      showVersionNumber: false
      showGitHubLinks: false
      altcoinName: TSAcoin
      privacyContactEmail: privacy@patsa.org
      chatBot:
        name: Patsa
        avatar: https://raw.githubusercontent.com/incyclesoftware/multi-juicer/features/tsa-config/images/TSA.png
      social:
        twitterUrl: #
        facebookUrl: #
        slackUrl: #
        pressKitUrl: #
        questionnaireUrl: ~
      welcomeBanner:
        showOnFirstStart: false
        title: PA TSA Cybersecurity Shop
        message: <p>Welcome to the PA TSA Cybersecurity Shop</p>
      cookieConsent:
        message: 'This website uses cookies to ensure you get the best tracking experience.'
      securityTxt:
        contact: mailto:donotreply@patsa.org
    challenges:
      showHints: false
      showMitigations: false
      codingChallengesEnabled: never
      overwriteUrlForProductTamperingChallenge: http://patsa.org/
      xssBonusPayload: '<iframe width="100%" height="166" scrolling="no" frameborder="no" allow="autoplay" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/148688836&color=%23ff5500&auto_play=true&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true"></iframe>'
      safetyOverride: false
      showFeedbackButtons: false
    hackingInstructor:
      isEnabled: false
      avatarImage: https://raw.githubusercontent.com/incyclesoftware/multi-juicer/features/tsa-config/images/TSA.png
    ctf:
      showFlagsInNotifications: false
